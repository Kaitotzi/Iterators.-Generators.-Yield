class FlatIterator:
    # Код из задачи 1
    ...

class FlatIteratorHard:
    # Код из задачи 3 (для вложенных списков)
    ...

def test_1():
    ...

def test_3():
    ...

if __name__ == '__main__':
    test_1()
    test_3()